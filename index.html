<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hunting NightCam</title>
  <style>
    :root{--bg:#0b0f12;--panel:#0f1720;--accent:#7be48b;--muted:#97a0ab}
    html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,system-ui,Arial;background:linear-gradient(180deg,#041018 0%,#08141a 100%);color:#e6eef3}
    .app{max-width:920px;margin:28px auto;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;box-shadow:0 8px 30px rgba(2,6,12,0.6);border:1px solid rgba(255,255,255,0.03)}
    header{display:flex;align-items:center;justify-content:space-between}
    .title{display:flex;gap:12px;align-items:center}
    .dot{width:12px;height:12px;border-radius:50%;background:#6ee18a;box-shadow:0 0 8px #2fe864}
    h1{font-size:18px;margin:0}
    p.sub{margin:0;color:var(--muted);font-size:13px}

    .viewer{margin-top:14px;display:grid;grid-template-columns:1fr 320px;gap:14px}
    .cam{background:#000;border-radius:10px;overflow:hidden;position:relative;min-height:360px;border:1px solid rgba(255,255,255,0.03)}
    .placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:12px;padding:18px}
    .controls{display:flex;gap:8px;flex-wrap:wrap;padding:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border-top:1px solid rgba(255,255,255,0.02)}
    button{background:#0f1720;border:1px solid rgba(255,255,255,0.04);padding:10px 12px;border-radius:8px;color:#e6eef3;cursor:pointer}
    button.primary{background:linear-gradient(90deg,#2fcc6b,#1fb17a);border:none;color:#01210f;font-weight:700}
    .side{background:var(--panel);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);height:100%;display:flex;flex-direction:column;gap:12px}
    .stat{display:flex;justify-content:space-between;font-size:13px;color:var(--muted)}
    .overlay{position:absolute;left:12px;top:12px;padding:6px 8px;background:rgba(0,0,0,0.45);border-radius:6px;font-size:13px}
    .timestamp{position:absolute;right:12px;top:12px;padding:6px 8px;background:rgba(0,0,0,0.45);border-radius:6px;font-size:13px}
    .crosshair{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:90%;height:90%;pointer-events:none;mix-blend-mode:screen}
    .crosshair:before,.crosshair:after{content:'';position:absolute;background:rgba(255,255,255,0.03)}
    .crosshair:before{left:50%;top:0;width:1px;height:100%}
    .crosshair:after{top:50%;left:0;height:1px;width:100%}
    .motion{position:absolute;left:12px;bottom:12px;padding:6px 8px;background:rgba(255,0,0,0.12);border-radius:6px;font-weight:700;color:#ffdcdc;display:none}

    iframe{width:100%;height:100%;border:0;display:block}

    .night-filter{position:absolute;inset:0;pointer-events:none;mix-blend-mode:color-dodge;background:rgba(12,34,6,0.15);filter:contrast(1.2) saturate(0.9)}
    .night-filter.on{background:rgba(6,30,6,0.25);mix-blend-mode:screen;filter:grayscale(0.05) contrast(1.3) brightness(1.1)}

    .help{font-size:13px;color:var(--muted)}
    footer{margin-top:12px;color:var(--muted);font-size:13px;text-align:center}

    /* responsive */
    @media (max-width:900px){.viewer{grid-template-columns:1fr;}.side{order:2}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="title">
        <div class="dot" aria-hidden></div>
        <div>
          <h1>Hunting NightCam</h1>
          <p class="sub">Simulated trail-cam interface — click "Start Cam" to load the live stream</p>
        </div>
      </div>
      <div class="meta">
        <div class="sub">Signal: <strong id="signal">—</strong></div>
      </div>
    </header>

    <div class="viewer">
      <div class="cam" id="camContainer">
        <div class="placeholder" id="placeholder">
          <svg width="96" height="96" viewBox="0 0 24 24" fill="none" aria-hidden>
            <path d="M3 7a2 2 0 0 1 2-2h3l1-2h4l1 2h3a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z" stroke="#7be48b" stroke-width="0.8" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8 13l3-2 3 2 4-3v6H4v-3l4 0z" stroke="#7be48b" stroke-width="0.8" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <div style="text-align:center">
            <strong>Camera inactive</strong>
            <div class="help">Click <strong>Start Cam</strong> to embed the live stream.</div>
          </div>
        </div>

        <!-- overlays -->
        <div class="overlay" id="statusOverlay">Status: Idle</div>
        <div class="timestamp" id="timestamp">—</div>
        <div class="motion" id="motion">MOTION</div>
        <div class="crosshair" aria-hidden></div>
        <div class="night-filter" id="nightFilter" aria-hidden></div>

        <!-- iframe will be injected here -->
      </div>

      <aside class="side">
        <div class="controls">
          <button id="startBtn" class="primary">Start Cam</button>
          <button id="stopBtn">Stop Cam</button>
          <button id="nvBtn">Toggle Night Vision</button>
        </div>

        <div class="stat"><span>Camera</span><strong id="camState">Offline</strong></div>
        <div class="stat"><span>Resolution</span><strong id="res">—</strong></div>
        <div class="stat"><span>Last event</span><strong id="lastevent">—</strong></div>

        <div style="margin-top:8px;font-size:13px;color:var(--muted)">
          <p style="margin:6px 0"><strong>Stream URL</strong></p>
          <p style="word-break:break-all;font-size:13px;color:#cfe8d2">https://www.youtube.com/live/36pTMcWWJHc</p>
        </div>

        <div style="margin-top:auto;font-size:12px;color:var(--muted)">
          <p style="margin:0">Hints:</p>
          <ul style="margin:6px 0 0 16px;color:var(--muted)">
            <li>Use <em>Toggle Night Vision</em> for a greenish overlay</li>
            <li>Motion events are simulated for demo purposes</li>
          </ul>
        </div>
      </aside>
    </div>

    <footer>Made for testing / demo.</footer>
  </div>

  <script>
    // Configuration
    const YT_VIDEO_ID = '36pTMcWWJHc'; // from the URL the user provided

    // Elements
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    const nvBtn = document.getElementById('nvBtn');
    const camState = document.getElementById('camState');
    const placeholder = document.getElementById('placeholder');
    const camContainer = document.getElementById('camContainer');
    const statusOverlay = document.getElementById('statusOverlay');
    const timestampEl = document.getElementById('timestamp');
    const motionEl = document.getElementById('motion');
    const nightFilter = document.getElementById('nightFilter');
    const signalEl = document.getElementById('signal');
    const resEl = document.getElementById('res');
    const lastEvent = document.getElementById('lastevent');

    let iframeEl = null;
    let motionTimer = null;

    function updateTimestamp(){
      const now = new Date();
      // show user's local time (page viewer's time)
      timestampEl.textContent = now.toLocaleString();
    }

    function setSignal(str){signalEl.textContent = str}

    function startCam(){
      if(iframeEl) return;
      // create iframe embed
      iframeEl = document.createElement('iframe');
      iframeEl.src = `https://www.youtube.com/embed/${YT_VIDEO_ID}?autoplay=1&rel=0`;
      iframeEl.allow = 'autoplay; encrypted-media; picture-in-picture; fullscreen';
      iframeEl.setAttribute('allowfullscreen','');
      iframeEl.style.minHeight = '360px';
      camContainer.appendChild(iframeEl);
      placeholder.style.display = 'none';
      camState.textContent = 'Online';
      statusOverlay.textContent = 'Status: Live';
      resEl.textContent = 'Live stream';
      setSignal('Good');
      startMotionSim();
      updateTimestamp();
      // update timestamp each second
      timestampInterval = setInterval(updateTimestamp,1000);
    }

    function stopCam(){
      if(!iframeEl) return;
      iframeEl.remove(); iframeEl = null;
      placeholder.style.display = 'flex';
      camState.textContent = 'Offline';
      statusOverlay.textContent = 'Status: Idle';
      setSignal('—');
      resEl.textContent = '—';
      stopMotionSim();
      if(window.timestampInterval) clearInterval(window.timestampInterval);
    }

    function toggleNight(){
      nightFilter.classList.toggle('on');
    }

    function startMotionSim(){
      if(motionTimer) return;
      motionTimer = setInterval(()=>{
        // random chance to show motion
        if(Math.random() < 0.25){
          motionEl.style.display = 'block';
          const when = new Date();
          lastEvent.textContent = when.toLocaleTimeString();
          setTimeout(()=>{motionEl.style.display='none'},1600);
        }
      },2000);
    }

    function stopMotionSim(){
      if(motionTimer){clearInterval(motionTimer);motionTimer=null}
      motionEl.style.display='none';
    }

    startBtn.addEventListener('click', startCam);
    stopBtn.addEventListener('click', stopCam);
    nvBtn.addEventListener('click', toggleNight);

    // keyboard shortcuts: S = start, Space = toggle night
    window.addEventListener('keydown',(e)=>{
      if(e.key.toLowerCase() === 's') startCam();
      if(e.code === 'Space') {e.preventDefault(); toggleNight();}
    });

    // small UX: hide stop if not running
    setInterval(()=>{
      if(iframeEl) stopBtn.style.opacity = '1'; else stopBtn.style.opacity = '0.6';
    },400);

    // initialize timestamp
    updateTimestamp();
  </script>
</body>
</html>
